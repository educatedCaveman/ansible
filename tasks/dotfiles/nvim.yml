---
# create Vundle directory, which also creates the nvim directory
- name: Create NeoVim and Vundle directories
  file:
    path: /home/drake/.config/nvim/bundle
    state: directory
    recurse: yes

# Vundle
- name: verify Vundle directory exists
  stat:
    path: /home/drake/.config/nvim/bundle
  register: stat_nvim_bundle

- name: cloning Vundle
  git:
    repo: 'https://github.com/VundleVim/Vundle.vim.git'
    dest: /home/drake/.config/nvim/bundle/Vundle.vim
  when: stat_nvim_bundle.stat.exists

#neovim
- name: link init.vim
  file:
    src: /home/drake/dotfiles/init.vim
    dest: /home/drake/.config/nvim/init.vim
    state: link
  when: not stat_nvim.stat.exists
