---
- name: deploy dotfiles 
  hosts:  theseus
  tasks:

    #deploy dotfiles repo
    - git:
        repo: 'https://github.com/educatedCaveman/dotfiles.git'
        dest: /home/drake/dotfiles
        
    #check if .zshrc exists:
    - name: checking for .zshrc
      stat: 
        path: /home/drake/.zshrc
      register: stat_zshrc
    
    - name: link .zshrc
      file:
        src: /home/drake/dotfiles/zsh/zshrc
        dest: /home/drake/.zshrc
        state: link
        owner: drake
        group: drake
      when: (not stat_zshrc.stat.exists)
    
    #check if .zsh_aliases exists:
    - name: checking for .zsh_aliases
      stat: 
        path: /home/drake/.zsh_aliases
      register: stat_zsh_aliases
    
    - name: link .zsh_aliases
      file:
        src: /home/drake/dotfiles/zsh/zsh_aliases
        dest: /home/drake/.zsh_aliases
        state: link
        owner: drake
        group: drake
      when: (not stat_zsh_aliases.stat.exists)
    
    #check if .zsh-theme exists:
    - name: checking for .zsh-theme
      stat: 
        path: /home/drake/.oh-my-zsh/custom/themes/less-fishy.zsh-theme
      register: stat_zsh_theme
    
    - name: link .zsh-theme
      file:
        src: /home/drake/dotfiles/zsh/less-fishy.zsh-theme
        dest: /home/drake/.oh-my-zsh/custom/themes/less-fishy.zsh-theme
        state: link
        owner: drake
        group: drake
      when: (not stat_zsh_theme.stat.exists)

    #neovim
    - name: checking for init.vim
      stat: 
        path: /home/drake/.config/nvim/init.vim
      register: stat_nvim
    
    - name: link init.vim
      file:
        src: /home/drake/dotfiles/init.vim
        dest: /home/drake/.config/nvim/init.vim
        state: link
        owner: drake
        group: drake
      when: not stat_nvim.stat.exists

    #i3status
    - name: checking for .i3status.conf
      stat:
        path: /home/drake/.i3status.conf
      register: stat_i3status

    - name: link .i3status.conf
      file:
        src:  /home/drake/dotfiles/Theseus/i3status.conf
        dest: /home/drake/.i3status.conf
        state:  link
        owner: drake
        group: drake
      when: not stat_i3status.stat.exists

    #py3status
    - name: checking for .py3status.conf
      stat:
        path: /home/drake/.py3status.conf
      register: stat_py3status

    - name: link .py3status.conf
      file:
        src:  /home/drake/dotfiles/Theseus/py3status.conf
        dest: /home/drake/.py3status.conf
        state:  link
        owner: drake
        group: drake
      when: not stat_py3status.stat.exists

    #redshift
    - name: checking for redshift.conf
      stat:
        path: /home/drake/.config/redshift.conf
      register: stat_redshift

    - name: link redshift.conf
      file:
        src:  /home/drake/dotfiles/redshift.conf
        dest: /home/drake/.config/redshift.conf
        state:  link
        owner: drake
        group: drake
      when: not stat_redshift.stat.exists

    #swayconfig
    - name: checking for swayconfig
      stat:
        path: /home/drake/.config/sway/config
      register: stat_swayconfig

    - name: link swayconfig
      file:
        src:  /home/drake/dotfiles/Theseus/swayconfig
        dest: /home/drake/.config/sway/config
        state:  link
        owner: drake
        group: drake
      when: not stat_swayconfig.stat.exists

    #terminator
    - name: checking for terminator
      stat:
        path: /home/drake/.config/terminator/config
      register: stat_terminator

    - name: link terminator
      file:
        src:  /home/drake/dotfiles/Theseus/termintor.config
        dest: /home/drake/.config/terminator/config
        state:  link
        owner: drake
        group: drake
      when: not stat_terminator.stat.exists

    #mako
    - name: checking for mako
      stat:
        path: /home/drake/.config/mako/config
      register: stat_mako

    - name: link mako
      file:
        src:  /home/drake/dotfiles/Theseus/mako.conf
        dest: /home/drake/.config/mako/config
        state:  link
        owner: drake
        group: drake
      when: not stat_mako.stat.exists

    #env vars
    - name: checking for env_vars.conf
      stat:
        path: /home/drake/.config/environment.d/envvars.conf
      register: stat_env

    - name: link env_vars.conf
      file:
        src:  /home/drake/dotfiles/envvars.conf
        dest: /home/drake/.config/environment.d/envvars.conf
        state:  link
        owner: drake
        group: drake
      when: not stat_env.stat.exists
    