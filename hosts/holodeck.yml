---
- name: configure Holodeck
  hosts:
    - holodeck
  vars:
    - HOME: /Users/drake
  tasks:

    # dotfiles:
    - name: Deploy dotfiles
      git:
        repo: 'https://github.com/educatedCaveman/dotfiles.git'
        dest: "{{ HOME }}/dotfiles"
        force:  yes

    # scripts:
    - name: Deploy the scripts
      git:
        repo: https://github.com/educatedCaveman/scripts
        dest: "{{ HOME }}/scripts"
        version:  master
        force:  yes

    # copy over .zsh_secrets
    - name: copy .zsh_secrets
      copy:
        src:  /home/drake/.zsh_secrets
        dest: "{{ HOME }}/.zsh_secrets"
        owner:  drake
        group:  drake
        mode: '0644'

    # TODO: ansible

    # TODO: setup NFS mounts?

    # TMUX
    - name: install tmuxp
      pip:
        name: tmuxp

    # install packages:
    - name: Install Dependencies
      community.general.homebrew:
        name:
          - neovim
          - htop
          - tmux
          - neofetch
          - python
          - netdata
        state:  latest
        update_homebrew:  yes

# links for all the things:
# - neovim
# - tmux
# - tmuxpconfigs
# - zsh configs


